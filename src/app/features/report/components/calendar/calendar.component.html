<div class="calendar-grid d-flex flex-col p-22">
  <div
    class="calendar-titles mb-14 d-flex items-center inputText color-background justify-between"
  >
    <p class="actual-month">{{ currentMonthYear }}</p>
    <p class="calendar-title">My Strategy</p>
    <span class="calendar-gap"></span>
  </div>
  <div
    class="calendar-header mb-14 d-flex flex-center items-center justify-between"
  >
    @for (day of [ 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday',
    'Friday', 'Saturday' ]; track $index) {
    <div class="calendar-day-header smallText color-background">
      {{ day | slice : 0 : 3 }}
    </div>
    }
  </div>
  @for (week of calendar; track $index) {
  <div class="calendar-week d-flex smallText color-background">
    @for (cell of week; track $index) {
    <div
      class="calendar-cell"
      [ngClass]="{
        active: cell.tradesCount > 0,
        'positive-cell': cell.tradesCount > 0 && cell.followedStrategy,
        'negative-cell': cell.tradesCount > 0 && !cell.followedStrategy
      }"
    >
      <div
        [ngClass]="
          cell.pnlTotal >= 0 ? 'positive-container' : 'negative-container'
        "
        class="d-flex justify-between px-8 py-8"
      >
        <div class="calendar-content d-flex flex-col">
          @if (cell.tradesCount > 0) {
          <div
            class="d-flex py-4 px-6 items-center"
            [ngClass]="
              cell.followedStrategy ? 'positive-strategy' : 'negative-strategy'
            "
          >
            <p>Strategy Followed:</p>
            <span
              [ngClass]="
                cell.followedStrategy ? 'icon-check-box' : 'icon-uncheck-box'
              "
              class="ml-8"
            ></span>
          </div>
          <p>
            ${{ cell.pnlTotal < 0 ? cell.pnlTotal : cell.pnlTotal.toFixed(4) }}
          </p>
          <p>
            {{ cell.tradesCount }} Trade{{ cell.tradesCount > 1 ? "s" : "" }}
          </p>
          <p>{{ cell.tradeWinPercent }}%</p>
          }
        </div>
        <p>
          <b>{{ cell.date.getDate() }}</b>
        </p>
      </div>
    </div>
    }
  </div>
  }
</div>
