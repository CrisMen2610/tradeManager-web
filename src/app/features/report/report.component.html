<div class="main-titles color-background d-flex flex-col mb-50">
  <h1 class="titleText mb-32">My Reports</h1>
  <h3 class="regularText">
    Visualize your consistency while growing with TradeSwitch.
  </h3>
</div>

<div class="d-flex stats-card-container mb-24">
  <app-stat-card
    class="stat-card"
    title="Net P&L"
    [value]="stats?.netPnl ? stats?.netPnl : 0"
  ></app-stat-card>
  <app-stat-card
    class="stat-card"
    title="Trade win %"
    [value]="`${stats?.tradeWinPercent}%`"
  ></app-stat-card>
  <app-stat-card
    class="stat-card"
    title="Profit Factor"
    [value]="stats?.profitFactor"
  ></app-stat-card>
  <app-stat-card
    class="stat-card"
    title="Avg. win/loss trades"
    [value]="stats?.avgWinLossTrades"
  ></app-stat-card>
  <app-stat-card
    class="stat-card"
    title="Total trades"
    [value]="stats?.totalTrades"
  ></app-stat-card>
</div>
<div class="middle-container d-flex mb-24">
  <app-PnL-Graph
    [values]="accountHistory"
    (onYearChange)="onYearChange($event)"
  ></app-PnL-Graph>
  <div class="my-rules d-flex flex-col p-30">
    <div class="mb-20 d-flex justify-between items-center">
      <h2 class="subtitle color-background">My Rules</h2>
      <a
        routerLink="/strategy"
        class="strategy-btn p-10 bg-primary-400 color-bg-black inputText"
      >
        Edit Strategy
      </a>
    </div>
    @for (item of config; track $index) {
    <app-rule-short
      [title]="item.title"
      [isActive]="item.isActive"
    ></app-rule-short>
    }
  </div>
</div>
<app-calendar
  [groupedTrades]="accountHistory"
  [pluginHistory]="pluginHistory"
  (strategyFollowedPercentageChange)="onStrategyPercentageChange($event)"
></app-calendar>

<app-loading-popup [visible]="loading"></app-loading-popup>
